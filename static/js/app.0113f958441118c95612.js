webpackJsonp([2,0],{0:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}var n=a(45),s=i(n),c=a(41),l=i(c),o=a(9),r=i(o),v=a(40),u=i(v);s.default.use(u.default,r.default),new s.default({el:"#app",template:"<App/>",components:{App:l.default}})},27:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(42),s=i(n);e.default={name:"app",components:{Dictionary:s.default}}},28:function(t,e,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(30),s=i(n);e.default={name:"Dictionary",data:function(){return{tableSelectView:!1,activeTabindex:0,mysqldata:{},currentTableData:{},clickHistory:{},emptyHistory:!0,tableListView:!1,tableDescView:!1,summary:""}},methods:{selectNavTab:function(t,e){this.activeTabindex=t},initCopy:function(t,e){var a=new s.default(t,{text:function(){return e}});a.on("success",function(t){a.destroy()}),a.on("error",function(t){a.destroy()})},CopyThat:function(t,e){var a=this;a.initCopy(e.target,t)},viewTable:function(t,e){var a=this;return a.initCopy(e.target,t),a.currentTableData.tablename!=t&&(a.tableListView=!1,a.tableDescView=!1,a.emptyHistory&&(a.emptyHistory=!1),a.clickHistory[t]?a.clickHistory[t].pv+=1:(a.clickHistory[t]=a.mysqldata.tables[t],a.clickHistory[t].pv=1),void a.viewTableFields(t))},viewTableFields:function(t){var e=this;e.currentTableData.tablename=t,e.currentTableData.info=e.mysqldata.tables[t],e.currentTableData.fields=e.mysqldata.tableFields[t],setTimeout(function(){e.tableDescView=!0},20)},viewTableList:function(){var t=this;return t.tableListView?(alert("已经是首页了"),!1):(t.tableListView=!0,t.tableDescView=!1,void(t.currentTableData={}))},makeData:function(){var t=this;t.axios.get("data/initdata.php?t="+(new Date).valueOf()).then(function(t){t.data instanceof Object==0?alert("生成数据需要把项目部署到PHP环境中,用来读取数据库生成数据字典文件"):(alert(t.data.message),window.location.reload())}).catch(function(t){})},getData:function(){}},filters:{defaultVal:function(t,e){return t?t:e}},beforeCreate:function(){var t=this;t.axios.get("data/data.json?t="+(new Date).valueOf()).then(function(e){t.mysqldata=e.data}).catch(function(t){})},computed:{getClickHistory:function(){return this.clickHistory}},mounted:function(){var t=this;setTimeout(function(){t.tableSelectView=!0,t.tableListView=!0},20)}}},33:function(t,e){},34:function(t,e){},41:function(t,e,a){a(34);var i=a(8)(a(27),a(44),null,null);t.exports=i.exports},42:function(t,e,a){a(33);var i=a(8)(a(28),a(43),null,null);t.exports=i.exports},43:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated bounceInLeft"}},[t.tableSelectView?a("div",{staticClass:"table-select"},[a("div",{staticClass:"tab-nav"},[a("div",{class:[0==t.activeTabindex?"active":""],on:{click:function(e){t.selectNavTab(0,e)}}},[t._v("表名\n\t\t\t\t")]),t._v(" "),a("div",{staticClass:"middle",class:[1==t.activeTabindex?"active":""],on:{click:function(e){t.selectNavTab(1,e)}}},[t._v("\n\t\t\t\t\t备注名\n\t\t\t\t")]),t._v(" "),a("div",{class:[2==t.activeTabindex?"active":""],on:{click:function(e){t.selectNavTab(2,e)}}},[t._v("点击记录")])]),t._v(" "),a("div",{staticClass:"tab-content"},[a("ul",{class:[0==t.activeTabindex?"show":""]},t._l(t.mysqldata.tables,function(e,i,n){return a("li",{staticClass:"copy",class:[i==t.currentTableData.tablename?"active":""],on:{click:function(e){t.viewTable(i,e)}}},[a("p",[a("i",[t._v(t._s(n+1))]),t._v(t._s(i))])])})),t._v(" "),a("ul",{class:[1==t.activeTabindex?"show":""]},t._l(t.mysqldata.tables,function(e,i,n){return a("li",{class:[i==t.currentTableData.tablename?"active":""],on:{click:function(e){t.viewTable(i,e)}}},[a("p",[a("i",[t._v(t._s(n+1))]),t._v(t._s(t._f("defaultVal")(e.comment,i)))])])})),t._v(" "),a("ul",{class:[2==t.activeTabindex?"show":""]},[t._l(t.clickHistory,function(e,i,n){return a("li",{class:[i==t.currentTableData.tablename?"active":""],on:{click:function(e){t.viewTable(i,e)}}},[a("p",[a("i",[t._v(t._s(n+1))]),t._v(t._s(i)+" ("+t._s(e.pv)+")次")])])}),t._v(" "),a("li",{directives:[{name:"show",rawName:"v-show",value:t.emptyHistory,expression:"emptyHistory"}]},[a("p",[a("i",[t._v("0")]),t._v("暂无记录")])])],2)])]):t._e()]),t._v(" "),a("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated bounceInRight","leave-active-class":"animated bounceOutLeft"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.tableListView,expression:"tableListView"}],staticClass:"table-list"},[a("div",{staticClass:"title"},[a("h2",[t._v("项目数据库字典")])]),t._v(" "),a("div",{staticClass:"table-row"},[a("div",{staticClass:"table"},[a("table",[a("thead",[a("tr",[a("th",[t._v("编号")]),t._v(" "),a("th",{attrs:{width:"30%"}},[t._v("表名")]),t._v(" "),a("th",[t._v("表类型")]),t._v(" "),a("th",[t._v("备注")])])]),t._v(" "),a("tbody",t._l(t.mysqldata.tables,function(e,i,n){return a("tr",[a("td",[t._v(t._s(n+1))]),t._v(" "),a("td",[a("p",{staticClass:"copy",on:{click:function(e){t.viewTable(i,e)}}},[t._v(t._s(i))])]),t._v(" "),a("td",[t._v(t._s(e.engine))]),t._v(" "),a("td",{staticClass:"copy",on:{click:function(a){t.CopyThat(e.comment,a)}}},[t._v(t._s(e.comment))])])}))])])])])]),t._v(" "),a("transition",{attrs:{name:"custom-classes-transition","enter-active-class":"animated bounceInRight","leave-active-class":"animated bounceOutLeft"}},[t.tableDescView?a("div",{staticClass:"table-desc"},[a("div",{staticClass:"title"},[a("h2",[t._v("【"+t._s(t.currentTableData.tablename)+"】"+t._s(t.currentTableData.info.comment))])]),t._v(" "),a("div",{staticClass:"table-row"},[a("div",{staticClass:"table"},[a("table",[a("tbody",[a("tr",[a("th",[t._v("字段名")]),t._v(" "),a("th",[t._v("字段类型")]),t._v(" "),a("th",[t._v("默认值")]),t._v(" "),a("th",[t._v("备注")])]),t._v(" "),t._l(t.currentTableData.fields,function(e){return a("tr",[a("td",{staticClass:"copy",on:{click:function(a){t.CopyThat(e.column_name,a)}}},[t._v(t._s(e.column_name))]),t._v(" "),a("td",[t._v(t._s(e.column_type))]),t._v(" "),a("td",[t._v(t._s(e.column_default))]),t._v(" "),a("td",{staticClass:"copy",on:{click:function(a){t.CopyThat(e.column_comment,a)}}},[t._v(t._s(e.column_comment))])])})],2)])])])]):t._e()]),t._v(" "),a("div",{staticClass:"tools"},[a("div",{on:{click:t.viewTableList}},[t._v("显示首页")]),t._v(" "),a("div",{on:{click:t.makeData}},[t._v("生成数据")])]),t._v(" "),t._m(0)],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"beta-bar"},[a("a",{attrs:{href:"https://github.com/lonisy/data-dictionary"}},[t._v("Fork Github")])])}]}},44:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("dictionary")],1)},staticRenderFns:[]}}});
//# sourceMappingURL=app.0113f958441118c95612.js.map